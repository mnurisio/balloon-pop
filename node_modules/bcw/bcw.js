#!/usr/bin/env node
const { printBanner } = require("./utils/console-utils");

function start() {
  try {
    printBanner()
    const commands = require("yargs")
    commands.usage("bcw [command] [options]")
      .command("setup", "Setup and configure environment for classroom", yargs => {
        require('./setup');
      })
      .command("create", "Start an Application from templates", yargs => {
        require('./create');
      })
      .command("journal", "setup and create the journal project", yargs => {
        require('./journals');
      })
      .command("serve", "initializes the static server with optional specification for the port to serve on", yargs => {
        require('./serve-static');
      })
      .command("live", "initializes a live static server with optional specification for the port and socket to serve on", yargs => {
        require('./live-server');
      })
      .command("add", "add additional utilities to existing projects", yargs => {
        require('./add');
      })
      .command("workspace", "Creates a workspace from the current directory files", yargs => {
        require('./workspace');
      })
      .options('p', { describe: 'Server Port', alias: 'port' })
      .alias("v", "version")
      .demandCommand(1, "You must specify a command")
      .version()
      .argv;
  } catch (error) {
    console.error(error);
  }
}

start()
